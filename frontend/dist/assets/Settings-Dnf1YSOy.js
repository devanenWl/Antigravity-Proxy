import{_ as B,a as H,r as _,a1 as P,n as h,p as V,b as C,d as s,e as a,g as l,j as k,a3 as S,F,q as G,l as b,t as r,f as u,a7 as O,a8 as j,a9 as w,aa as A,o as z}from"./index-CDzEZqfw.js";import{C as g,c as E}from"./clipboard-BYc1WW6g.js";import{C as v}from"./Card-Cto2nSnp.js";import{B as c}from"./Button-CtfZAKL_.js";const I={class:"settings-page"},N={class:"settings-grid"},U={class:"form-group"},D=["value"],L={class:"form-group"},Y={class:"info-list"},q={class:"info-item"},K={class:"info-value"},R={class:"info-item"},J={class:"info-value"},Q={class:"info-item"},W={class:"info-value"},X={class:"code-block"},Z={__name:"Settings",setup(ee){const n=H(),f=_(!1),p=_(!1),i=P({defaultModel:"gemini-2.5-flash",pollingStrategy:"weighted"}),x=[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash"},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro"},{id:"gemini-3-pro-high",name:"Gemini 3 Pro (High)"},{id:"gemini-3-pro-low",name:"Gemini 3 Pro (Low)"},{id:"claude-opus-4-5",name:"Claude Opus 4.5"},{id:"claude-opus-4-5-thinking",name:"Claude Opus 4.5 (Thinking)"},{id:"claude-sonnet-4-5",name:"Claude Sonnet 4.5"},{id:"claude-sonnet-4-5-thinking",name:"Claude Sonnet 4.5 (Thinking)"}],d=h(()=>window.location.origin),M=async()=>{f.value=!0;try{const o=await j();Object.assign(i,o.data||o)}catch(o){console.error("Failed to load settings",o)}finally{f.value=!1}},T=async()=>{p.value=!0;try{await w("defaultModel",i.defaultModel),await w("pollingStrategy",i.pollingStrategy),n.success("设置已保存")}catch{n.error("保存设置失败")}finally{p.value=!1}},m=async o=>{await E(o)?n.success("已复制到剪贴板"):n.error("复制失败，请手动复制")},$=async()=>{var o;try{const e=await A(),t=e.data||e;n.success(`健康检查通过 - ${((o=t.accounts)==null?void 0:o.active)||0} 个活跃账号`)}catch{n.error("健康检查失败")}},y=h(()=>`curl ${d.value}/v1/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -d '{
    "model": "gemini-2.5-flash",
    "messages": [{"role": "user", "content": "Hello!"}]
  }'`);return V(M),(o,e)=>(z(),C("div",I,[e[13]||(e[13]=s("div",{class:"page-header"},[s("h1",{class:"page-title"},"系统设置")],-1)),s("div",N,[a(v,{title:"系统设置"},{default:l(()=>[s("div",U,[e[5]||(e[5]=s("label",{class:"form-label"},"默认模型",-1)),k(s("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.defaultModel=t),class:"form-select"},[(z(),C(F,null,G(x,t=>s("option",{key:t.id,value:t.id},r(t.name),9,D)),64))],512),[[S,i.defaultModel]])]),s("div",L,[e[7]||(e[7]=s("label",{class:"form-label"},"轮询策略",-1)),k(s("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.pollingStrategy=t),class:"form-select"},[...e[6]||(e[6]=[s("option",{value:"weighted"},"加权轮询 (按配额)",-1),s("option",{value:"roundrobin"},"轮询",-1),s("option",{value:"random"},"随机",-1)])],512),[[S,i.pollingStrategy]])]),a(c,{variant:"primary",loading:p.value,onClick:T},{default:l(()=>[...e[8]||(e[8]=[b(" 保存设置 ",-1)])]),_:1},8,["loading"])]),_:1}),a(v,{title:"API 信息"},{default:l(()=>[s("div",Y,[s("div",q,[e[9]||(e[9]=s("span",{class:"info-label"},"对话接口",-1)),s("div",K,[s("code",null,r(d.value)+"/v1/chat/completions",1),a(c,{variant:"ghost",size:"sm",icon:"",onClick:e[2]||(e[2]=t=>m(`${d.value}/v1/chat/completions`))},{default:l(()=>[a(u(g),{size:14})]),_:1})])]),s("div",R,[e[10]||(e[10]=s("span",{class:"info-label"},"模型列表",-1)),s("div",J,[s("code",null,r(d.value)+"/v1/models",1),a(c,{variant:"ghost",size:"sm",icon:"",onClick:e[3]||(e[3]=t=>m(`${d.value}/v1/models`))},{default:l(()=>[a(u(g),{size:14})]),_:1})])]),s("div",Q,[e[11]||(e[11]=s("span",{class:"info-label"},"健康检查",-1)),s("div",W,[s("code",null,r(d.value)+"/health",1),a(c,{variant:"ghost",size:"sm",icon:"",onClick:$},{default:l(()=>[a(u(O),{size:14})]),_:1})])])])]),_:1}),a(v,{title:"使用示例",class:"example-card"},{default:l(()=>[s("div",X,[s("pre",null,[s("code",null,r(y.value),1)]),a(c,{variant:"secondary",size:"sm",class:"copy-btn",onClick:e[4]||(e[4]=t=>m(y.value))},{default:l(()=>[a(u(g),{size:14}),e[12]||(e[12]=b(" 复制 ",-1))]),_:1})])]),_:1})])]))}},le=B(Z,[["__scopeId","data-v-d3cbc1c4"]]);export{le as default};
